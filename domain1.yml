version: '3.0'
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
intents:
- extract_kpi
- deny
- greet
- goodbye
- affirm
- mood_unhappy
- bot_challenge
- chatbot_service
- request_kpi_form
entities:
- kpi
- place
- time
slots:
  place:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: place
  kpi:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: kpi
  time:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: time
  confirm:
    type: bool
    influence_conversation: true
    mappings:
    - type: from_intent
      intent: affirm
      value: true
    - type: from_intent
      intent: deny
      value: false
responses:
  utter_ask_place:
  - text: Which place are you interested in?
  utter_ask_kpi:
  - text: Which KPI are you interested in?
  utter_ask_time:
  - text: What time are you interested?
  utter_state_sql:
  - text: SELECT SUM({kpi}) FROM "E-Mobility".emo_historical WHERE state='{place}' AND month={time};
  utter_state_city_sql:
  - text: SELECT {kpi} FROM "E-Mobility".emo_historical WHERE state='{place}' AND month={time};
  utter_county_sql:
  - text: SELECT {kpi} FROM "E-Mobility".emo_historical WHERE county='{place}' AND month={time};
  utter_query_received:
  - text: Ok, query received. Please confirm the following.
  utter_query_confirm:
  - text: the place is {place}, kpi is {kpi}, time is {time}
  utter_query_completed:
  - text: Query now in process...
  utter_ask_for_clarification:
  - text: Please correct the false part.
  utter_greet:
  - text: hi
  utter_cheer_up:
  - text: 'Here is something to cheer you up:'
    image: https://media-cdn.tripadvisor.com/media/photo-s/11/a7/72/0f/vegetarian-menu.jpg
  utter_service_1:
  - text: 'KPIs that are available: Locations, Charging stations, Charging points, Charging points per 1,000 cars, Cars per charging point, Percentage of target.'
  utter_service_2:
  - text: You can type the KPI name for the KPI description or start directly asking me questions regarding the KPI within Germany.
  utter_did_that_help:
  - text: Did that help you?
  utter_happy:
  - text: Great, carry on!
  utter_goodbye:
  - text: Bye
  utter_iamabot:
  - text: I am a bot, powered by Rasa.
actions:
- action_query_clarify
- action_query_confirm
- action_reset_slots
- utter_ask_for_clarification
- utter_ask_kpi
- utter_ask_place
- utter_ask_time
- utter_query_received
forms:
  kpi_form:
    required_slots:
    - place
    - kpi
    - time
