version: "3.0"

intents:
  - chitchat:
      is_retrieval_intent: true
  - affirm
  - deny
  - agg_query
  - group_sort_query
  - filter_query
  - limit_query
  - window_query
  - out_of_scope
  - faq:
      is_retrieval_intent: true
  - request_kpi_form
  - reset
  - check_slot_input


entities:
- place
- kpi
- DATE
- max
- min
- avg
- desc
- asc
- le
- ge
- bet
- CARDINAL

slots:
  place:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: place  
  kpi:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: kpi
  DATE:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: DATE
  mapped_time: 
    type: text
    initial_value: None
    mappings:
    - type: custom
  max:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: max
  min:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: min
  avg:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: avg
  desc:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: desc
  asc:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: asc
  le:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: le
  ge:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: ge
  bet:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: bet
  CARDINAL:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: CARDINAL
  stored_intent:
    type: text
    influence_conversation: false
    mappings:
    - type: custom
  stored_user_input:
    type: text
    influence_conversation: false
    mappings:
    - type: custom
  stored_entities_indices:
    type: any
    influence_conversation: false
    mappings:
    - type: custom
  new_training_data:
    type: bool
    influence_conversation: false
    mappings:
    - type: custom

forms:
  kpi_form:
    ignored_intents: 
    - chitchat
    - faq
    required_slots:
      - place
      - kpi
      - DATE


responses:
  utter_ask_place:
  - text: "Which place are you interested in? You can type name of a federal state/city or simply 'county' or 'federal state'."

  utter_ask_kpi:
  - text: "Which KPI are you interested in?"
    buttons:
    - title: "Location"
      payload: '/inform{{"kpi":"Locations"}}'
    - title: "Charging station"
      payload: '/inform{{"kpi":"Charging stations"}}'
    - title: "Charging point"
      payload: '/inform{{"kpi":"Charging points"}}'


  utter_ask_DATE:
  - text: "What time are you interested?"

  utter_query_received:
  - text: "Ok, query received. Please confirm the following."

  utter_query_confirm:
  - text: "the place is {place}, kpi is {kpi}, time is {time}"

  utter_query_completed:
  - text: "Query now in process..."

  utter_ask_for_clarification:
  - text: "Please correct the false part."

  utter_out_of_scope:
  - text: "Oops, I am stumped..."

  utter_please_rephrase:
  - text: "Sorry, could you rephrase that?"

  utter_default:
  - text: "I'm sorry, I can't help you."
  
  utter_chitchat/greet:
  - text: "hi"
  - text: "hello"
  utter_chitchat/goodbye:
  - text: "goodbye"
  - text: "bye"

  utter_faq/service:
  - text: "KPIs that are available: Locations, Charging stations, Charging points, Charging points per 1,000 cars, Cars per charging point, Percentage of target.\nYou can type the KPI name for the KPI description or start directly asking me questions regarding the KPI within Germany."
  utter_faq/locations_info:
  - text: "Locations: number of charging infrastructure places."
  utter_faq/chargingstations_info:
  - text: "Charging stations: number of charging stations. A charging station, also called an EV charger or electric vehicle supply equipment (EVSE), is a piece of equipment that supplies electrical power for charging plug-in electric vehicles (including hybrids, neighborhood electric vehicles, trucks, buses, and others). A charging station can have one or more charging points." 
  utter_faq/chargingpoints_info:
  - text: "Charging points: number of charging points. A charging point is an interface with which either only one electric vehicle can be charged or only one battery of an electric vehicle can be exchanged at the same time.
"
  utter_faq/chargingpoints_per_car_info:
  - text: "Charging points per 1,000 cars: number of charging points per 1,000 registered passenger cars."
  utter_faq/car_per_chargingpoints_info:
  - text: "Cars per charging point: number of registered passenger cars per charging point."
  utter_faq/percentage_target_info:
  - text: "Percentage of target: achieved share of charging points in relation to the required minimum number of charging points for 2030."

actions:
  - utter_ask_place
  - utter_ask_DATE
  - utter_ask_kpi
  - action_query_clarify
  - action_reset_slots
  - action_query_confirm
  - action_slot_check
  - action_execute_agg_query
  - action_execute_group_sort_query
  - action_execute_filter_query
  - action_execute_limit_query
  - action_execute_window_query
  - action_convert_date
  - validate_kpi_form
  - action_tem_intentmessage
  - action_tem_entities


session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
